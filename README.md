# 🎨 AI智能制课画布 - 增强版

## 项目简介

这是一个现代化的AI制课画布系统，专为教育工作者和培训师设计。通过直观的可视化界面，将复杂的课程设计过程变得简单高效。

### ✨ 核心特性

- 🎯 **智能课程生成**：基于目标和素材自动生成课程结构
- 🗂️ **统一资源管理**：支持多种格式文件的上传和管理
- 🔍 **内容可追溯**：每个知识点都能追溯到原始来源
- ✏️ **灵活节点编辑**：支持拖拽、编辑、拆分、合并等操作
- 📊 **课程预览分析**：提供完整的课程预览和质量分析
- 🎨 **现代化配色**：采用深邃绿松石配色，专业而现代

## 🚀 快速开始

### 第一步：启动应用
直接在浏览器中打开 `index.html` 文件，无需安装任何软件。

### 第二步：准备素材
- 📁 在首页拖拽文件到上传区域
- 📋 支持格式：PPT, PDF, DOCX, TXT, MD, 图片, 视频, 音频
- 💡 建议上传结构化文档以获得更好的解析效果

### 第三步：设定目标
在文本框中描述您的培训目标，例如：
```
为新入职的产品经理，制作一门关于团队管理的培训课程，
包含沟通技巧、项目管理、团队激励等核心内容，时长90分钟。
```

### 第四步：生成课程
- 点击 **"🚀 在画布上生成课程"** 按钮
- AI将分析您的素材并生成课程结构
- 每个节点都会标注来源信息

### 第五步：编辑优化
- 🖱️ **双击节点**：打开智能定位的编辑弹框
- 🎯 **拖拽节点**：自由调整课程结构布局  
- 👆 **右键菜单**：访问高级编辑功能
- 🔍 **预览分析**：使用工具栏查看课程质量

## 🛠️ 功能详解

### 📚 统一资源管理
- **多格式支持**：PPT, PDF, DOCX, TXT, MD, 图片, 视频, 音频
- **拖拽上传**：直观的文件上传体验
- **状态管理**：实时显示处理状态和启用状态
- **资源控制**：可随时启用/禁用特定资源参与生成

### 🧠 智能课程生成  
- **AI驱动**：基于目标和素材智能生成课程结构
- **可追溯性**：每个知识点都标注原始来源
- **透明过程**：清晰展示AI的生成逻辑
- **增量优化**：支持基于反馈持续改进

### ✨ 交互式编辑
- **智能定位弹框**：双击节点时弹框智能避开鼠标，始终可见
- **拖拽布局**：5像素阈值的精确拖拽检测
- **右键菜单**：丰富的节点操作选项
- **实时连线**：拖拽时只重绘相关连线，性能优化

### 📊 课程分析预览
- **课程预览**：完整的课程结构展示
- **质量分析**：课程内容质量评估
- **覆盖度检查**：确保知识点全面覆盖
- **优化建议**：AI提供改进建议

## 📁 项目结构

```
制课-画布/AI--main/
├── index.html                          # 🏠 主入口页面
├── app-enhanced.js                     # 🧠 核心应用逻辑
├── canvas-engine.js                    # 🎨 画布渲染引擎
├── styles.css                          # 💄 现代化样式（绿松石配色）
├── data.js                            # 📊 示例数据
├── courseware-generator.js            # 📚 课件生成器
├── export-manager.js                  # 📤 导出功能（已移除）
├── 改进版需求说明-可追溯制课.md        # 📋 需求文档
├── 项目完成总结.md                     # ✅ 完成总结
└── 设计原则.md                        # 🎯 设计理念
```

## 🔧 技术亮点

### 前端架构
- **🚀 零依赖部署**：纯HTML/CSS/JS，直接浏览器运行
- **📱 响应式设计**：适配桌面端和移动端
- **🎯 模块化设计**：清晰的功能分离和代码组织
- **🛡️ 防御性编程**：大量null检查和错误边界处理

### 用户体验优化
- **⚡ 性能优化**：选择性重绘，拖拽时只更新相关连线
- **🎪 智能交互**：弹框智能定位，避开鼠标遮挡
- **🎨 现代视觉**：深邃绿松石配色，专业而不失活力
- **🔄 实时反馈**：操作即时响应，状态清晰可见

### 问题解决
- **🐛 事件冲突修复**：解决重复事件监听器导致的异常触发
- **📍 UI层叠处理**：修复隐藏按钮仍可点击的问题  
- **🎯 精确拖拽**：5像素阈值区分点击和拖拽操作
- **📱 边界适配**：智能边界检测，确保弹框始终可见

## 💡 使用建议

### 初次体验
- 🎮 **先体验后上传**：建议先用内置示例数据熟悉功能
- 📚 **优质素材**：上传结构化文档（PDF、DOCX）效果更佳
- 🎯 **明确目标**：详细描述培训对象、时长、核心内容

### 最佳实践
- 📝 **渐进式设计**：先生成基础结构，再精细化编辑
- 🔍 **利用追溯**：点击来源标记验证内容准确性
- 🎨 **灵活布局**：充分利用拖拽功能优化视觉呈现
- 📊 **定期预览**：使用预览功能检查课程完整性

## ⚠️ 重要说明

### 功能限制
- **文件解析**：当前为模拟实现，生产环境需后端API
- **AI生成**：使用演示数据，实际需接入大语言模型  
- **数据持久**：仅浏览器本地存储，刷新页面会重置

### 浏览器兼容
- ✅ **推荐**：Chrome 90+、Firefox 88+、Safari 14+
- ⚠️ **注意**：IE浏览器不支持

## 📈 版本历程

### v1.2 (当前版本) - 2024.01
- 🎨 **全新配色**：深邃绿松石主题，告别烂大街的蓝紫渐变
- 🎪 **智能弹框**：编辑器智能定位，避开鼠标遮挡
- ⚡ **性能优化**：拖拽时选择性重绘，提升流畅度
- 🐛 **问题修复**：解决UI层叠、事件冲突等关键问题

### v1.1 - 2024.01  
- ✅ 统一资源库实现
- ✅ 可追溯生成功能
- ✅ 交互式节点编辑
- ✅ 课程预览分析

### v1.0 - 2024.01
- 🎉 项目初始版本
- 🎨 基础画布功能
- 📊 示例数据展示

---

## 🚀 立即开始

准备好体验现代化的课程设计了吗？

**👉 打开 `index.html`，开启您的AI制课之旅！**

*让复杂的课程设计变得简单而高效* ✨